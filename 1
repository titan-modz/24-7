#!/bin/bash

# =========================================
#     HVM - Hyzex Virtual Machine (Auto)
# =========================================

# --- ASCII Banner ---
clear
echo " _    _ __      __ __  __ "
echo "| |  | |\ \    / /|  \/  |"
echo "| |__| | \ \  / / | \  / |"
echo "|  __  |  \ \/ /  | |\/| |"
echo "| |  | |   \  /   | |  | |"
echo "|_|  |_|    \/    |_|  |_|"
echo "     HYZEX VIRTUAL MACHINE"
echo "----------------------------------"
echo

# --- Fixed VPS Configuration ---
HOSTNAME="hyzxfree"
VPS_ID="HVM-FREE-001"
MEMORY="2GB"
CPU="2 cores"
DISK="20GB"
OS_NAME="Ubuntu 22.04 LTS"

# --- Set Hostname ---
hostname "$HOSTNAME" 2>/dev/null
echo "$HOSTNAME" > /etc/hostname
sed -i "s/127.0.1.1.*/127.0.1.1 $HOSTNAME/" /etc/hosts

# --- Environment Variables ---
export HOSTNAME="$HOSTNAME"
export VPS_ID="$VPS_ID"
export MEMORY="$MEMORY"
export CPU="$CPU"
export DISK="$DISK"
export LANG="en_US.UTF-8"
export OS_NAME="$OS_NAME"

# --- Override ls for /dev/kvm ---
ls() {
    if [[ "$1" == "/dev/kvm" ]]; then
        echo "/dev/kvm"
    else
        command ls "$@"
    fi
}

# --- Custom Prompt ---
export PS1="root@$HOSTNAME[$VPS_ID]:\w# "

# --- Boot Info ---
clear
echo "----------------------------------"
echo " HVM VPS BOOTED SUCCESSFULLY âœ…"
echo "----------------------------------"
echo "Hostname : $HOSTNAME"
echo "VPS ID   : $VPS_ID"
echo "CPU      : $CPU"
echo "Memory   : $MEMORY"
echo "Disk     : $DISK"
echo "OS       : $OS_NAME"
echo "----------------------------------"
echo "Type 'exit' to power off the VPS."
echo "----------------------------------"
echo

# --- Launch interactive terminal ---
bash
