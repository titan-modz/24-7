#!/bin/bash

# ==============================================
# Docker Compose Installer for DOM Cloud VPS
# No sudo / No apt required
# ==============================================

# Choose Docker Compose version
COMPOSE_VERSION="2.27.0"

# Create a local bin directory if it doesn't exist
mkdir -p $HOME/bin

# Download the docker-compose binary
echo "⬇️ Downloading Docker Compose v$COMPOSE_VERSION ..."
curl -SL "https://github.com/docker/compose/releases/download/v$COMPOSE_VERSION/docker-compose-linux-x86_64" -o $HOME/bin/docker-compose

# Make it executable
chmod +x $HOME/bin/docker-compose

# Add it to your PATH if not already added
if ! grep -q "$HOME/bin" ~/.bashrc; then
  echo 'export PATH=$HOME/bin:$PATH' >> ~/.bashrc
fi

# Apply new PATH immediately
export PATH=$HOME/bin:$PATH

# Verify installation
echo
echo "✅ Docker Compose installed successfully!"
docker-compose version
